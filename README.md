# Image Comparison Tool

一个用于比较和标记图像差异的Web工具。该工具允许用户并排查看原始图像和标记后的图像，帮助识别和记录有问题的图像。

## 功能特性

- 并排显示原始图像和标记后的图像
- 支持标记和保存有问题的图像
- 导出问题图像列表
- 保存和加载工作配置
- 支持多个配置管理
- 自动保存工作状态
- 沉浸模式支持
- 丰富的快捷键支持

## 快速开始

### 方法一：直接运行（推荐）
Windows系统直接双击运行本目录中的 `ImageComparisonTool.exe`，无需安装任何环境即可使用

### 方法二：使用批处理文件启动
Windows系统可以直接双击运行 `start.bat`，该脚本会：
1. 自动检查Python环境（使用时需要先安装Python）
2. 自动安装所需的依赖（Flask）
3. 自动启动应用程序
4. 自动打开浏览器访问应用 

### 方法三：从源码运行
如果您想从源码运行，请按照以下步骤操作：

1. 克隆或下载此仓库到本地

2. 安装依赖：
```bash
pip install -r requirements.txt
```

3. 启动服务器：
```bash
python server.py
```

4. 在浏览器中访问：
```
http://localhost:5000
```

## 沉浸模式

沉浸模式提供更专注的图像查看体验，隐藏所有控制面板和界面元素，让您专注于图像细节的对比。

### 使用建议
- 建议先使用浏览器的全屏模式（Chrome浏览器按 `F11` 键）以获得最佳体验
- 全屏后再开启沉浸模式，可以获得最纯净的查看环境

### 进入/退出沉浸模式
- 点击界面上的 "Immersive Mode" 按钮
- 或使用快捷键 `I` 键

### 沉浸模式特点
- 隐藏所有控制面板和界面元素
- 图像全屏显示
- 只保留必要的文件信息显示
- 提供更专注的图像查看体验

## 快捷键

### 图像导航
- `A` 或 `←` (左箭头)：查看上一张图片
- `D` 或 `→` (右箭头)：查看下一张图片
- `S` 或 `↓` (下箭头)：将当前图片标记为问题图片

### 模式切换
- `I`：切换沉浸模式

### 图像查看器操作
- 鼠标滚轮：缩放图像
- 左键拖动：移动图像
- `ESC` 或右键点击：关闭查看器

### 帮助面板
- 界面左下角有一个可折叠的帮助面板
- 点击 "Help" 按钮可以展开/收起帮助信息
- 帮助面板会显示所有可用的快捷键

## 系统要求

- Python 3.6+
- Flask 3.0.2

## 安装说明

1. 克隆或下载此仓库到本地

2. 安装依赖：
```bash
pip install -r requirements.txt
```

## 使用方法

1. 启动服务器：
```bash
python server.py
```

2. 在浏览器中访问：
```
http://localhost:5000
```

3. 设置工作目录：
   - 设置原始图像目录（Raw Directory）
   - 设置标记图像目录（Labeled Directory）

4. 使用界面功能：
   - 浏览并比较图像
   - 标记有问题的图像
   - 导出问题图像列表
   - 保存/加载工作配置

## 配置管理

- 配置文件保存在 `configs` 目录下
- 每个配置包含：
  - 原始图像目录路径
  - 标记图像目录路径
  - 已标记的问题图像列表
  - 时间戳

## 文件结构

```
.
├── server.py              # Flask服务器主程序
├── image_comparison.html  # 主界面HTML文件
├── image_viewer.html      # 图像查看器HTML文件
├── app_state.json        # 应用程序状态文件
├── requirements.txt      # Python依赖文件
└── configs/             # 配置文件目录
```

## 注意事项

- 确保原始图像和标记图像的文件名完全匹配
- 建议定期保存工作配置
- 导出的问题图像列表将包含时间戳

## 许可证

MIT License